1． 

1． 嵌入式系统的定义，特点。嵌入式系统发展的4个阶段。分类。 

定义：嵌入式系统是“以应用为中心，以计算机技术为基础，软硬件可裁减，适用于应用系统对功能、可靠性、成本、体积、功耗有严格要求的专用计算机系统”。 

v  特点：嵌入式系统通常是形式多样、面向特定应用的 

v  嵌入式系统得到多种类型的处理器和处理器体系结构的支持 

v  嵌入式系统通常极其关注成本 

v  嵌入式系统有实时性和可靠性的要求 

v  嵌入式系统使用的操作系统一般是适应多种处理器、可剪裁、轻量型、实时可靠、可固化的嵌入式操作系统 

v  嵌入式系统开发需要专门工具和特殊方法 

  

四个阶段： 

第一阶段：以四位到八位单片机为核心的可编程控制器系统，同时具有检测伺服指示设备相配合的功能。 

第二阶段：以八位和十六位嵌入式中央处理器为基础，以简单操作系统为核心的嵌入式系统。 

第三阶段：以三十二位RISC嵌入式中央处理器加嵌入式操作系统为标志的嵌入式系统。 

第四阶段：以基于INTERNET接入为表示的嵌入式系统。 

分类 

按嵌入式处理器的位数来分类 

按应用来分类 

军用，工业用和民用，汽车电子，工业控制，移动终端，信息家电等等 

按速度分类 

强实时，一般实时，弱实时 

按确定性来分类 

硬实时，软实时 

按嵌入式系统软件复杂程度来分类： 

//error无操作系统，小型操作系统，大型操作系统控制的嵌入式系统。 

  

  

  

2． 嵌入式系统的基本结构。 

嵌入式系统一般由嵌入式硬件和软件组成 

硬件以微处理器为核心集成存储器和系统专用的输入/输出设备 

软件包括：初始化代码及驱动、嵌入式操作系统和应用程序等，这些软件有机地结合在一起，形成系统特定的一体化软件。 

 

3． 嵌入式系统的设计方法。 

需求---设计说明---体系结构-----构件设计----系统集成
软硬件协同开发：
1 统一的软硬件描述
2 交互式的软硬件划分技术
3 完整的软硬件模型基础
4正确的验证方法

系统定义（需求分析） (原型的元素)

软硬件划分 

?    结构规划 C 处理器类型, 软硬件之间的接口类型, 等. 

?    划分目的 C 满足系统速度,延迟, 体积,成本等方面的要求. 

?    划分策略 - high level partitioning by hand, automated partitioning using various techniques, etc. 

调度 

?    Operation scheduling in hardware 

?    Instruction scheduling in compilers 

?    Process scheduling in operating systems 

软硬件设计过程中的建模 

软硬件协同的设计方式 


  

4． 嵌入式硬件系统基础: 嵌入式系统的硬件是以嵌入式微处理器为核心，主要由嵌入式微处理器、总线、存储器、
输入/输出接口和设备组成   (中断控制器、DMA、串行和并行接口)。 

嵌入式微处理器体系结构： 诺伊曼体系结构和哈佛体系结构。 

传统的微处理器采用的冯・诺依曼结构将指令和数据存放在同一存储空间中，统一编址，指令和数据通过同一总线访问。 

哈佛结构则是不同于冯・诺依曼结构的一种并行体系结构，其主要特点是程序和数据存储在不同的存储空间中，即程序存储器和数据存储器是两个相互独立的存储器，每个存储器独立编制、独立访问。与之相对应的是系统中设置的两条总线（程序总线和数据总线），从而使数据的吞吐率提高了一倍。 

  

RISC和CISC。 

嵌入式微处理器的指令系统可采用精简指令集系统RISC（Reduced Instruction Set Computer）或复杂指令集系统CISC（Complex Instruction Set Computer） 


基本架构。 

嵌入式系统中的总线、存储设备（种类，优缺点）。 

总线是CPU与存储器和设备通信的机制，是计算机各部件之间传送数据、地址和控制信息的公共通道。 

按cpu中位置分：片外总线，片内总线 

按功能和信号类型分：数据总线，地址总线，控制总线 

  

  

主存：主存是处理器能直接访问的存储器，用来存放系统和用户的程序和数据。 

外存：外存是处理器不能直接访问的存储器，用来存放用户的各种信息，容量大。 

  

5． ARM体系结构；ARM汇编语言。重点、难点： 

CPSR（当前程序状态寄存器）在所有的模式下都是可以读写的，它主要包含： 

条件标志 

中断使能标志 

当前处理器的模式 

其它的一些状态和控制标志 

  

寻址模式： 

立即数寻址 

寄存器寻址 

寄存器移位寻址 

寄存器间接寻址 

基址寻址 

多寄存器寻址 

栈寻址 

块拷贝寻址 

处理器模式（7种） 

用户模式(usr)：ARM处理器正常的程序执行状态。 

快速中断模式(fiq)：用于高速数据传输或通道处理。   

外部中断模式(irq)：用于通用的中断处理。 

管理模式(svc)：操作系统使用的保护模式。 

数据访问终止模式(abt)：当数据或指令预取终止时进入该模式，可用于虚拟存储及存储保护。 

系统模式(sys)：运行具有特权的操作系统任务。 

定义指令中止模式(und)：当未定义的指令执行时进入该模式，可用于支持硬件协处理器的软件仿真。 

  

处理器状态（2种） 

第一种为ARM状态，此时处理器执行32位的字对齐的ARM指令； 

第二种为Thumb状态，此时处理器执行16位的、半字对齐的Thumb指令。 

一些基本的汇编语句，汇编语言程序中一些常用的代码段。 

  

6． 嵌入式软件系统体系结构 

嵌入式系统软件结构一般包含4个层面：设备驱动层、操作系统OS、中间层、应用程序层。 

设备驱动层：板级初始化程序，系统软件相关驱动，应用软件相关驱动 

操作系统层：操作系统层包括嵌入式内核、嵌入式TCP/IP网络系统、嵌入式文件系统、嵌入式GUI系统和电源管理等部分。 

中间件层： 

应用层：应用层软件主要由多个相对独立的应用任务组成每个应用任务完成特定的工作，如IO任务，计算任务，通信任务等。 


嵌入式软件运行流程。 

     上电复位、板级初始化阶段 

     系统引导/升级阶段 

     系统引导阶段 

     系统升级阶段 

     系统初始化阶段 

     应用初始化阶段 

     多任务应用运行阶段 


  

7． 实时系统的定义。 

IEEE对实时系统的定义是“哪些正确性不仅取决于计算的逻辑结果，也取决于产生结果所花费的时间的系统”。                                                            POSIX 1003.b作了这样的定义：指系统能够在限定的响应时间内提供所需水平的服务 

  

8． 嵌入式操作系统的体系结构 

三大结构：单块结构；层次结构；微内核结构 


单块结构 


层次结构 


微内核结构 

     目前嵌入式操作系统主要采用分层和模块化相结合的结构或微内核结构。 


层次加模块化结构 

  

嵌入式内核的功能。 

任务管理 

内存管理 

通信、同步和互斥机制 

时间管理 

中断管理 

任务扩展功能 

  

常用的嵌入式操作系统。 

比较常用的操作系统有μC/OS-II 、Linux、Windows CE、VxWorks、QNX、Nucleus Embedded、PalmOS、Symbian等等。（详细介绍见ppt） 

  

9． 板级支持包BSP与bootloader。 

BSP的概念、特点与功能。 

BSP(Board Support Package)是板级支持包，是介于主板硬件和操作系统之间的一层，应该说是属于操作系统的一部分,主要目的是为了支持操作系统，使之能够更好的运行于硬件主板。 

特点：硬件相关性 

因为嵌入式实时系统的硬件环境具有应用相关性，所以，作为高层软件与硬件之间的接口，BSP必须为操作系统提供操作和控制具体硬件的方法。 

操作系统相关性 

不同的操作系统具有各自的软件层次结构， 因此，不同的操作系统具有特定的硬件接口形式。 

功能 

硬件初始化，操作系统初始化 

片级初始化，板级初始化，系统级初始化 

  

  

bootloader的概念，嵌入式系统引导加载过程。 

是BSP的一个组成部分，主要是管理目标平台的启动过程，包括初始化硬件设备，下载操作系统的映像文件等。 

简单地说，Boot Loader 就是在操作系统内核运行之前运行的一段小程序。通过这段小程序，我们可以初始化硬件设备、建立内存空间的映射图，从而将系统的软硬件环境带到一个合适的状态，以便为最终调用操作系统内核准备好正确的环境功能 

初始化硬件设备 

建立内存空间的映射图 

调整系统的软硬件环境，以便操作系统内核启动 

嵌入式系统引导加载过程 

设置中断向量表 

初始化存储设备 

初始化堆栈 

初始化用户执行环境 

呼叫主应用程序 

  

10．    嵌入式开发。嵌入式系统的调试技术。理解实验流程。理解交叉编译；理解下载并运行程序的不同方法。JTAG接口。 

11．    ucOS原理：任务调度、中断与时钟、同步与通信、存储管理 


